<!doctype html>
<html lang="en" ng-app="md">
	<head>
		<title>Modsecurity</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	</head>
	<body >
		<div class="container-fluid" ng-controller="dashboard">
			<div class="row" style="margin-top:2em; margin-bottom:2em">
				<div class="col-sm-6 col-md-6 fill">
					<ul class="list-group" style="max-height: 900px">
						<li ng-repeat="e in $root.elements track by $index" class="list-group-item {{e.status | statusClass}}" ng-click="$root.setSelected(e)" ng-class="{'active': $root.selected === e}">
							<h4 class="list-group-item-heading">
								<span class="label {{e.method | labelClass}}">{{e.method}}</span>
								<span>{{e.status}}</span>
								<small class="pull-right">{{e.when}}</small>
							</h4>
							{{e.Host}}{{e.resource}}
							<h4 class="text-center">{{e.remoteip}}</h4>
							<div style="clear:both"></div>
						</li>
					</ul>
				</div>
				<div class="col-sm-6 col-md-6">
					<div class="d-flex w-100 justify-content-between">
						<h3><span class="label {{$root.selected.method | labelClass}}">{{$root.selected.method}}</span></h3>{{$root.selected.Host}}{{$root.selected.resource}}
						<small>{{$root.selected.when}}</small>
					</div>
					<p class="mb-1">
						<strong>{{$root.selected.remoteip}}</strong>
					</p>
					<h3 ng-if="$root.selected.B">Request headers</h3>
					<small ng-if="$root.selected.B"><pre style="max-width: 100%; overflow: auto">{{$root.selected.B}}</pre></small>
					<h3 ng-if="$root.selected.C">Request body</h3>
					<small ng-if="$root.selected.C"><pre style="max-width: 100%; overflow: auto">{{$root.selected.C}}</pre></small>
					<h3 ng-if="$root.selected.F">Response headers</h3>
					<small ng-if="$root.selected.F"><pre style="max-width: 100%; overflow: auto">{{$root.selected.F}}</pre></small>
					<h3 ng-if="$root.selected.H">Audit log trailer, which contains additional data</h3>
					<small ng-if="$root.selected.H"><pre style="max-width: 100%; overflow: auto">{{$root.selected.H}}</pre></small>
					<h3 ng-if="$root.selected.E">Response body</h3>
					<small ng-if="$root.selected.E"><pre style="max-width: 100%; overflow: auto">{{$root.selected.E}}</pre></small>
				</div>
			</div>
		</div>
		<style>
			html, body { height: 100%; }
			.fill { max-height: 100%;  height: 900px; overflow-y:auto; }
		</style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.min.js" integrity="sha256-zBy1l2WBAh2vPF8rnjFMUXujsfkKjya0Jy5j6yKj0+Q=" crossorigin="anonymous"></script>
		<script src="script.js"></script>
	</body>
</html>



